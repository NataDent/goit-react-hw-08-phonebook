"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[568],{9568:function(n,e,r){r.r(e),r.d(e,{default:function(){return nn}});var o,t,a,i,l,c,s=r(5705),d=r(824),u=r(9589),m=r(8007),x=r(9434),f=r(3634),b=r(6916),h=function(n){return n.contacts.items},p=function(n){return n.contacts.isLoading},j=function(n){return n.contacts.error},g=(0,b.P1)([h,function(n){return n.filter.filter}],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),v=r(168),C=r(3938),y=(0,C.ZP)(s.l0)(o||(o=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 4px;\n"]))),Z=C.ZP.div(t||(t=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 4px;\n"]))),X=((0,C.ZP)(s.gN)(a||(a=(0,v.Z)(["\n  height: 48px;\n  border: 1px solid #97266d;\n  border-radius: 4px;\n  border-color: #97266d;\n  color: #97266d;\n"]))),C.ZP.label(i||(i=(0,v.Z)(["\n  font-size: 16px;\n  display: block;\n  padding: 4px 0;\n  color: #f687b3;\n"])))),_=(0,C.ZP)(s.Bc)(l||(l=(0,v.Z)(["\n  color: red;\n"]))),S=C.ZP.button(c||(c=(0,v.Z)(["\n  font-weight: bold;\n  margin: 8px auto;\n  padding: 8px;\n  background-color: #fed7e2;\n  color: #521b41;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: rgba(151, 38, 109, 0.2) 0px 7px 29px 0px;\n    transform: scale(1.05);\n    background-color: #97266d;\n    color: #fff;\n  }\n"]))),k=r(184),N=m.Ry().shape({name:m.Z_().required("Please provide the name").min(2,"Please give 2 characters long!").max(15,"The name is too long! 15 ch are allowed"),number:m.Z_().required("The field cannot be empty").min(9,"Too Short!").max(10,"Too long!").matches(/[0-9]{3}-[0-9]{2}-[0-9]{2}/,"Number must be in the format XXX-XX-XX")}),F=function(){var n=(0,x.v9)(h),e=(0,x.I0)();return(0,k.jsxs)(d.xu,{maxW:"50%",mx:"auto",p:5,children:[(0,k.jsx)(u.X,{fontSize:"3xl",color:"brand.600",textAlign:"center",mb:5,children:"Create A Contact"}),(0,k.jsx)(s.J9,{initialValues:{name:"",number:""},validationSchema:N,onSubmit:function(r,o){var t=n.find((function(n){return n.name===r.name})),a=n.find((function(n){return n.number===r.number}));t?alert("Such name  already exists"):a?alert("Such number already exists"):(e((0,f.uK)(r)),o.resetForm())},children:(0,k.jsxs)(y,{children:[(0,k.jsxs)(Z,{children:[(0,k.jsx)(X,{htmlFor:"name",children:"Name"}),(0,k.jsx)(s.gN,{id:"name",name:"name",placeholder:"Jane"}),(0,k.jsx)(_,{component:"div",name:"name"})]}),(0,k.jsxs)(Z,{children:[(0,k.jsx)(X,{htmlFor:"number",children:"Number"}),(0,k.jsx)(s.gN,{id:"number",name:"number",placeholder:"123-45-67"}),(0,k.jsx)(_,{component:"div",name:"number"})]}),(0,k.jsx)(S,{type:"submit",children:"Add contact"})]})})]})},w=r(6661),z=r(9439),P=r(2715),T=r(6762),R=r(9055),q=r(1413),I=r(990),W=r(8874),A=r(5624),J=r(5473),L=r(634),O=r(6241),U=r(7685),B=r(2791),D=r(4164),E=document.querySelector("#modal-root"),K=m.Ry().shape({name:m.Z_().min(2,"Too short!").required("Required"),number:m.Z_().min(9,"Too Short!").max(10,"Too long!").required("The field cannot be empty").matches(/[0-9]{3}-[0-9]{2}-[0-9]{2}/,"Number must be in the format XXX-XX-XX")}),V=function(n){var e=n.isOpen,r=n.name,o=n.number,t=n.onClose,a=n.id,i=(0,x.I0)(),l=B.useRef(null),c=B.useRef(null);return(0,D.createPortal)((0,k.jsxs)(I.u_,{initialFocusRef:l,finalFocusRef:c,isOpen:e,onClose:t,children:[(0,k.jsx)(W.Z,{}),(0,k.jsxs)(A.h,{children:[(0,k.jsx)(J.x,{children:"Update your contact"}),(0,k.jsx)(L.o,{}),(0,k.jsx)(O.f,{pb:6,children:(0,k.jsx)(s.J9,{initialValues:{name:r,number:o},validationSchema:K,onSubmit:function(n,e){i((0,f.Tk)((0,q.Z)((0,q.Z)({},n),{},{id:a}))).then((function(){t()})),e.resetForm()},children:(0,k.jsxs)(y,{children:[(0,k.jsxs)(Z,{children:[(0,k.jsx)(X,{htmlFor:"name",children:"Name"}),(0,k.jsx)(s.gN,{id:"name",name:"name",placeholder:"Jane"}),(0,k.jsx)(_,{component:"div",name:"name"})]}),(0,k.jsxs)(Z,{children:[(0,k.jsx)(X,{htmlFor:"number",children:"Number"}),(0,k.jsx)(s.gN,{id:"number",name:"number",placeholder:"123-45-67"}),(0,k.jsx)(_,{component:"div",name:"number"})]}),(0,k.jsx)(S,{type:"submit",children:"Update contact"})]})})}),(0,k.jsx)(U.m,{children:(0,k.jsx)(R.z,{onClick:function(){t()},variant:"solid",bgColor:"brand.100",_hover:{bgColor:"brand.700",color:"#fff"},mx:"auto",color:"brand.900",mr:3,children:"Cancel"})})]})]}),E)},G=function(n){var e=n._id,r=n.name,o=n.number,t=(0,B.useState)(!1),a=(0,z.Z)(t,2),i=a[0],l=a[1],c=(0,x.I0)(),s=function(){return l((function(n){return!n}))};return console.log(e),(0,k.jsxs)(w.HC,{display:"flex",justifyContent:"space-between",p:1,children:[(0,k.jsxs)(P.x,{fontSize:18,fontWeight:"bold",color:"brand.900",children:[r,": ",o]}),(0,k.jsxs)(T.U,{gap:1,children:[(0,k.jsx)(R.z,{variant:"solid",bgColor:"brand.100",color:"brand.900",_hover:{bgColor:"brand.700",color:"#fff"},type:"button",onClick:s,children:"Edit"}),(0,k.jsx)(R.z,{variant:"solid",bgColor:"brand.100",color:"brand.900",_hover:{bgColor:"brand.700",color:"#fff"},type:"button",onClick:function(){return function(n){return c((0,f.GK)(n))}(e)},children:"Delete"})]}),i&&(0,k.jsx)(V,{isOpen:i,name:r,number:o,id:e,onClose:s})]},e)},H=function(){var n=(0,x.v9)(g);return(0,k.jsxs)(w.QI,{display:"flex",flexDirection:"column",mt:5,px:5,maxW:"50%",mx:"auto",children:[(0,k.jsx)(u.X,{fontSize:"3xl",color:"brand.600",textAlign:"center",mb:5,children:"Your Contacts"}),n.map((function(n){var e=n._id,r=n.name,o=n.number;return(0,k.jsx)(G,{_id:e,name:r,number:o})}))]})},Q=r(4808),Y=r(8410),M=r(4389),$=function(){var n=(0,x.I0)();return(0,k.jsx)(Y.W,{p:5,maxW:"50%",m:"auto",children:(0,k.jsx)(M.I,{placeholder:"Find contacts by name:",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600",type:"text",name:"find",onChange:function(e){return n((0,Q.Tv)(e.target.value))}})})},nn=function(){var n=(0,x.v9)(h),e=(0,x.v9)(p),r=(0,x.v9)(j),o=(0,x.I0)();return(0,B.useEffect)((function(){o((0,f.yF)())}),[o]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F,{}),(0,k.jsx)($,{}),e&&!r&&(0,k.jsx)("b",{fontSize:20,color:"brand.900",children:"Request in progress..."}),n?(0,k.jsx)(H,{}):(0,k.jsx)("b",{fontSize:20,color:"brand.900",children:"No contacts"})]})}}}]);
//# sourceMappingURL=568.9813a98e.chunk.js.map