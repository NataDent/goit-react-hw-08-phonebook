"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[854],{8854:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var o=r(5705),t=r(824),a=r(9589),l=r(1917),i=r(9657),c=r(930),u=r(6336),s=r(9055),d=r(8007),m=r(9434),b=r(3634),h=r(6916),f=function(e){return e.contacts.items},x=function(e){return e.contacts.isLoading},j=function(e){return e.contacts.error},p=(0,h.P1)([f,function(e){return e.filter.filter}],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),v=r(184),g=d.Ry().shape({name:d.Z_().min(2,"Too short!").required("Required"),number:d.Z_().min(9,"Too Short!").max(10,"Too long!").required("The field cannot be empty").matches(/[0-9]{3}-[0-9]{2}-[0-9]{2}/,"Number must be in the format XXX-XX-XX")}),C=function(){var e=(0,m.v9)(f),n=(0,m.I0)();return(0,v.jsxs)(t.xu,{maxW:"50%",mx:"auto",p:5,children:[(0,v.jsx)(a.X,{fontSize:"3xl",color:"brand.600",textAlign:"center",mb:5,children:"Create A Contact"}),(0,v.jsx)(o.J9,{initialValues:{name:"",number:""},validationSchema:g,onSubmit:function(r,o){var t=e.find((function(e){return e.name===r.name})),a=e.find((function(e){return e.number===r.number}));t?alert("Such name  already exists"):a?alert("Such number already exists"):(n((0,b.uK)(r)),o.resetForm())},children:function(){return(0,v.jsx)(o.l0,{autoComplete:"true",children:(0,v.jsxs)(l.g,{autoComplete:"true",spacing:5,m:"auto",align:"flex-start",children:[(0,v.jsxs)(i.NI,{children:[(0,v.jsx)(c.l,{htmlFor:"name",color:"brand.900",children:"Name"}),(0,v.jsx)(o.gN,{as:u.I,id:"name",name:"name",placeholder:"Name:",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600"}),(0,v.jsx)(o.Bc,{component:"div",name:"name"})]}),(0,v.jsxs)(i.NI,{children:[(0,v.jsx)(c.l,{htmlFor:"number",color:"brand.900",children:"Phone number"}),(0,v.jsx)(o.gN,{as:u.I,id:"number",name:"number",placeholder:"Phone: 123-45-67",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600"}),(0,v.jsx)(o.Bc,{component:"div",name:"name"})]}),(0,v.jsx)(s.z,{type:"submit",variant:"solid",bgColor:"brand.100",_hover:{bgColor:"brand.700",color:"#fff"},mx:"auto",color:"brand.900",children:"Add contact"})]})})}})]})},_=r(6661),y=r(9439),X=r(2715),z=r(6762),I=r(1413),N=r(990),S=r(8874),F=r(4605),k=r(5473),T=r(634),B=r(6241),R=r(7685),q=r(2791),Z=r(4164),w=document.querySelector("#modal-root"),P=d.Ry().shape({name:d.Z_().min(2,"Too short!").required("Required"),number:d.Z_().min(9,"Too Short!").max(10,"Too long!").required("The field cannot be empty").matches(/[0-9]{3}-[0-9]{2}-[0-9]{2}/,"Number must be in the format XXX-XX-XX")}),W=function(e){var n=e.isOpen,r=e.name,t=e.number,a=e.onClose,d=e.id,h=(0,m.I0)(),f=q.useRef(null),x=q.useRef(null);return(0,Z.createPortal)((0,v.jsxs)(N.u_,{initialFocusRef:f,finalFocusRef:x,isOpen:n,onClose:a,children:[(0,v.jsx)(S.Z,{}),(0,v.jsxs)(F.h,{children:[(0,v.jsx)(k.x,{children:"Update your contact"}),(0,v.jsx)(T.o,{}),(0,v.jsx)(B.f,{pb:6,children:(0,v.jsx)(o.J9,{initialValues:{name:r,number:t},validationSchema:P,onSubmit:function(e,n){h((0,b.Tk)((0,I.Z)((0,I.Z)({},e),{},{id:d})).then((function(){a()}))),n.resetForm()},children:function(){return(0,v.jsx)(o.l0,{autoComplete:"true",children:(0,v.jsxs)(l.g,{autoComplete:"true",spacing:5,m:"auto",align:"flex-start",children:[(0,v.jsxs)(i.NI,{children:[(0,v.jsx)(c.l,{htmlFor:"name",color:"brand.900",children:"Name"}),(0,v.jsx)(o.gN,{as:u.I,id:"name",name:"name",placeholder:"Name:",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600"}),(0,v.jsx)(o.Bc,{component:"div",name:"name"})]}),(0,v.jsxs)(i.NI,{children:[(0,v.jsx)(c.l,{htmlFor:"number",color:"brand.900",children:"Phone number"}),(0,v.jsx)(o.gN,{as:u.I,id:"number",name:"number",placeholder:"Phone: 123-45-67",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600"}),(0,v.jsx)(o.Bc,{component:"div",name:"name"})]}),(0,v.jsx)(s.z,{type:"submit",variant:"solid",bgColor:"brand.100",_hover:{bgColor:"brand.700",color:"#fff"},mx:"auto",color:"brand.900",children:"Update contact"})]})})}})}),(0,v.jsx)(R.m,{children:(0,v.jsx)(s.z,{onClick:function(){a()},variant:"solid",bgColor:"brand.100",_hover:{bgColor:"brand.700",color:"#fff"},mx:"auto",color:"brand.900",mr:3,children:"Cancel"})})]})]}),w)},A=function(e){var n=e.id,r=e.name,o=e.number,t=(0,q.useState)(!1),a=(0,y.Z)(t,2),l=a[0],i=a[1],c=(0,m.I0)(),u=function(){return i((function(e){return!e}))};return(0,v.jsxs)(_.HC,{display:"flex",justifyContent:"space-between",p:1,children:[(0,v.jsxs)(X.x,{fontSize:18,fontWeight:"bold",color:"brand.900",children:[r,": ",o]}),(0,v.jsxs)(z.U,{gap:1,children:[(0,v.jsx)(s.z,{variant:"solid",bgColor:"brand.100",color:"brand.900",_hover:{bgColor:"brand.700",color:"#fff"},type:"button",onClick:u,children:"Edit"}),(0,v.jsx)(s.z,{variant:"solid",bgColor:"brand.100",color:"brand.900",_hover:{bgColor:"brand.700",color:"#fff"},type:"button",onClick:function(){return function(e){return c((0,b.GK)(e))}(n)},children:"Delete"})]}),l&&(0,v.jsx)(W,{isOpen:l,name:r,number:o,id:n,onClose:u})]},n)},L=function(){var e=(0,m.v9)(p);return(0,v.jsxs)(_.QI,{display:"flex",flexDirection:"column",mt:5,px:5,maxW:"50%",mx:"auto",children:[(0,v.jsx)(a.X,{fontSize:"3xl",color:"brand.600",textAlign:"center",mb:5,children:"Your Contacts"}),e.map((function(e){var n=e.id,r=e.name,o=e.number;return(0,v.jsx)(A,{id:n,name:r,number:o})}))]})},O=r(4808),U=r(8410),D=function(){var e=(0,m.I0)();return(0,v.jsx)(U.W,{p:5,maxW:"50%",m:"auto",children:(0,v.jsx)(u.I,{placeholder:"Find contacts by name:",_placeholder:{color:"brand.300"},size:"lg",variant:"outline",focusBorderColor:"brand.600",type:"text",name:"find",onChange:function(n){return e((0,O.Tv)(n.target.value))}})})},E=function(){var e=(0,m.v9)(f),n=(0,m.v9)(x),r=(0,m.v9)(j),o=(0,m.I0)();return(0,q.useEffect)((function(){o((0,b.yF)())}),[o]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(C,{}),(0,v.jsx)(D,{}),n&&!r&&(0,v.jsx)("b",{fontSize:20,color:"brand.900",children:"Request in progress..."}),e?(0,v.jsx)(L,{}):(0,v.jsx)("b",{fontSize:20,color:"brand.900",children:"No contacts"})]})}}}]);
//# sourceMappingURL=854.75a9572b.chunk.js.map